root@vlxweb12:/var/www/assessment# cd /var/www/assessment
# 1. Atualizar código
git pull origin main
# 2. Reiniciar aplicação
sudo supervisorctl restart assessment
remote: Enumerating objects: 29, done.
remote: Counting objects: 100% (29/29), done.
remote: Compressing objects: 100% (19/19), done.
remote: Total 25 (delta 21), reused 10 (delta 6), pack-reused 0 (from 0)
Unpacking objects: 100% (25/25), 227.16 KiB | 1.57 MiB/s, done.
From https://github.com/GruppenIT/assessment
 * branch            main       -> FETCH_HEAD
   84aeccc..53e0d85  main       -> origin/main
Updating 84aeccc..53e0d85
Fast-forward
 ...Pasted-root-vlxweb12-var-www-assessment-cd-var-www-assessment-1-Listar-tabelas-que-cont-m-tipo-par-1760397117163_1760397117163.txt | 133 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 ...Pasted-root-vlxweb12-var-www-assessment-cd-var-www-assessment-Executar-migra-o-SQL-para-adicionar--1760396894597_1760396894598.txt | 140 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 ...asted-root-vlxweb12-var-www-assessment-git-pull-origin-main-remote-Enumerating-objects-9-done-remo-1760396822308_1760396822308.txt | 117 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 .../Pasted-root-vlxweb12-var-www-assessment-sudo-u-postgres-psql-d-assessment-db-EOF-DO-BEGIN--1760397178433_1760397178434.txt        |  69 +++++++++++++++++++++++++++++++++++
 attached_assets/image_1760397286773.png                                                                                               | Bin 0 -> 109205 bytes
 attached_assets/image_1760397308517.png                                                                                               | Bin 0 -> 147460 bytes
 models/tipo_assessment.py                                                                                                             |   2 +-
 7 files changed, 460 insertions(+), 1 deletion(-)
 create mode 100644 attached_assets/Pasted-root-vlxweb12-var-www-assessment-cd-var-www-assessment-1-Listar-tabelas-que-cont-m-tipo-par-1760397117163_1760397117163.txt
 create mode 100644 attached_assets/Pasted-root-vlxweb12-var-www-assessment-cd-var-www-assessment-Executar-migra-o-SQL-para-adicionar--1760396894597_1760396894598.txt
 create mode 100644 attached_assets/Pasted-root-vlxweb12-var-www-assessment-git-pull-origin-main-remote-Enumerating-objects-9-done-remo-1760396822308_1760396822308.txt
 create mode 100644 attached_assets/Pasted-root-vlxweb12-var-www-assessment-sudo-u-postgres-psql-d-assessment-db-EOF-DO-BEGIN--1760397178433_1760397178434.txt
 create mode 100644 attached_assets/image_1760397286773.png
 create mode 100644 attached_assets/image_1760397308517.png
assessment: stopped
assessment: ERROR (spawn error)
root@vlxweb12:/var/www/assessment# venv/bin/python diagnosticar_assessment_criado.py
ENV_LOADER: Carregadas variáveis de .env
Traceback (most recent call last):
  File "/var/www/assessment/diagnosticar_assessment_criado.py", line 3, in <module>
    from app import app
  File "/var/www/assessment/app.py", line 352, in <module>
    app = create_app()
          ^^^^^^^^^^^^
  File "/var/www/assessment/app.py", line 159, in create_app
    from routes.auth import auth_bp
  File "/var/www/assessment/routes/__init__.py", line 7, in <module>
    from .admin import admin_bp
  File "/var/www/assessment/routes/admin.py", line 22, in <module>
    from utils.csv_utils import processar_csv_importacao, gerar_template_csv
  File "/var/www/assessment/utils/csv_utils.py", line 4, in <module>
    from models.tipo_assessment import TipoAssessment
  File "/var/www/assessment/models/tipo_assessment.py", line 4, in <module>
    class TipoAssessment(db.Model):
  File "/var/www/assessment/venv/lib/python3.12/site-packages/flask_sqlalchemy/model.py", line 124, in __init_subclass__
    super().__init_subclass__(**kwargs)
  File "/var/www/assessment/venv/lib/python3.12/site-packages/flask_sqlalchemy/model.py", line 214, in __init_subclass__
    super().__init_subclass__(**kwargs)
  File "/var/www/assessment/venv/lib/python3.12/site-packages/sqlalchemy/orm/decl_api.py", line 842, in __init_subclass__
    _as_declarative(cls._sa_registry, cls, cls.__dict__)
  File "/var/www/assessment/venv/lib/python3.12/site-packages/sqlalchemy/orm/decl_base.py", line 244, in _as_declarative
    return _MapperConfig.setup_mapping(registry, cls, dict_, None, {})
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/assessment/venv/lib/python3.12/site-packages/sqlalchemy/orm/decl_base.py", line 325, in setup_mapping
    return _ClassScanMapperConfig(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/assessment/venv/lib/python3.12/site-packages/sqlalchemy/orm/decl_base.py", line 576, in __init__
    self._setup_table(table)
  File "/var/www/assessment/venv/lib/python3.12/site-packages/sqlalchemy/orm/decl_base.py", line 1755, in _setup_table
    table_cls(
  File "/var/www/assessment/venv/lib/python3.12/site-packages/flask_sqlalchemy/model.py", line 242, in __table_cls__
    return sa.Table(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<string>", line 2, in __new__
  File "/var/www/assessment/venv/lib/python3.12/site-packages/sqlalchemy/util/deprecations.py", line 281, in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^
  File "/var/www/assessment/venv/lib/python3.12/site-packages/sqlalchemy/sql/schema.py", line 429, in __new__
    return cls._new(*args, **kw)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/assessment/venv/lib/python3.12/site-packages/sqlalchemy/sql/schema.py", line 461, in _new
    raise exc.InvalidRequestError(
sqlalchemy.exc.InvalidRequestError: Table 'assessment_tipos' is already defined for this MetaData instance.  Specify 'extend_existing=True' to redefine options and columns on an existing Table object.
root@vlxweb12:/var/www/assessment#